<div class="container">
    <div class="row mt-3">
        <div class="col">
            <h3>Administracion de la carta Y Banner</h3>
        </div>
    </div>
    <div class="row">
        <div class="col">
            <button type="button" class="btn btn-success m-1 " (click)="vistaCarta()">Añadir Carta</button>
            <button type="button" class="btn btn-success m-1" (click)="vistaBanner()" >Añadir banner principal</button>

        </div>

    </div>

    <div class="row mt-3">
        <div class="col">

        </div>
    </div>
    <div class="row mt-3">
        <div class="col">

            <div class="card bg-light shadow-lg  bg-white rounded" *ngIf="viewCarta || viewBanner" >
                <div class="card-header" > 
                    <div class="row">
                        <div class="col">
                            <div class="custom-control custom-switch">
                                <input type="checkbox" class="custom-control-input" [(ngModel)]="swichCarta" id="customSwitch1">
                                <label class="custom-control-label" for="customSwitch1">Añadir o Actualizar.</label>
                              </div>
                            
                              
                            </div>
                            <div class="col">
                                <select class="form-control" (change)="rellenarFormUpdate($event.target.value)" *ngIf="swichCarta" [(ngModel)] ="categoriaData" >
                                <option *ngFor="let item of carta" [value]="item.id">{{item.NOMBRE}}-{{item.PRECIO}}</option>
                                        
                            </select></div>
                            
                        </div>

                    </div>
                    

                <div class="card-body">
                 <form  #carta="ngForm"   *ngIf="viewCarta" >
                    <div class="row">
                          <div class="col">
                            <label for="validationServerUsername">Nombre</label>                           
                                <input type="text" class="form-control" name="nombre" #nombre="ngModel" [ngClass]="{'is-valid': nombre.valid && nombre.touched,'is-invalid': !nombre.valid && nombre.touched }"  [(ngModel)]="nombreData"   required>
                          </div>
                    </div>                    
                   <div class="row">
                        <div class="col">
                            <label for="validationServerUsername">url </label>
                                <input type="text" class="form-control " [ngClass]="{'is-valid': url.valid && url.touched,'is-invalid': !url.valid && url.touched }"  name="url" #url="ngModel"  [(ngModel)]="urlData" required>
                             
                          </div>  
                    </div>

                    <div class="row">
                        <div class="col-3">

                            <label for="validationServerUsername">Precio </label>
                            <input type="number" class="form-control " [ngClass]="{'is-valid': precio.valid && precio.touched,'is-invalid': !precio.valid && precio.touched }"  name="precio" #precio="ngModel"  [(ngModel)]="precioData" required>
                         
                        </div>
                        <div class="col-3">
                                
                              <label for="validationServerUsername">Categoria </label>
                                <select class="form-control" [ngClass]="{'is-valid': categoria.valid && categoria.touched,'is-invalid': !categoria.valid && categoria.touched }" id="categoria" name="categoria " #categoria="ngModel" [(ngModel)] ="categoriaData" required>
                                  <option *ngFor="let item of categorias" [value]="item.ID">{{item.NOMBRE}}</option>
                                
                                </select>



                        </div>
                        
                    </div>
                        
                        

                    

                    <div class="row">
                        <div class="col text-left">
                            <button class="btn btn-success m-2" (click)="grabarItemCarta(carta)"  [disabled]="!carta.valid" >Guardar cambios</button>
                            <button class="btn btn-info m-2" (click)="carta.resetForm()" [disabled]="!carta.valid" >Descartar cambios</button>

                        </div>
                    </div>

                    
                 </form>

                 <div class="row" *ngIf="viewBanner  && viewCarta ">
                     <div class="col">
                         <hr>
                     </div>
                 </div>

                 <form  #banner="ngForm"  *ngIf="viewBanner"  >
                    <div class="row">
                          <div class="col">
                            <label for="validationServerUsername">Nombre</label>                           
                                <input type="text" class="form-control" name="nombre" #nombre="ngModel" [ngClass]="{'is-valid': nombre.valid && nombre.touched,'is-invalid': !nombre.valid && nombre.touched }"  [(ngModel)]="nombreBannerData"   required>
                          </div>
                    </div>
                    <div class="row">
                        <div class="col">
                            <label for="validationServerUsername">Descripccion </label>
                                <input type="text" class="form-control " [ngClass]="{'is-valid': descripccion.valid && descripccion.touched,'is-invalid': !descripccion.valid && descripccion.touched }"  name="descripccion" #descripccion="ngModel"  [(ngModel)]="descripccionBannerData" required>
                             
                          </div>  
                    </div>

                    <div class="row">
                        <div class="col-3">

                            <label for="validationServerUsername">URL </label>
                            <input type="text" class="form-control " [ngClass]="{'is-valid': precio.valid && precio.touched,'is-invalid': !precio.valid && precio.touched }"  name="precio" #precio="ngModel"  [(ngModel)]="urlBannerData" required>
                         
                        </div>
                        
                    </div>

                    

                    <div class="row">
                        <div class="col text-left">
                            <button class="btn btn-success m-2" (click)="grabarCarrusel(banner)"  [disabled]="!banner.valid" >Guardar cambios</button>
                            <button class="btn btn-info m-2" (click)="banner.resetForm()"  [disabled]="!banner.valid" >Descartar cambios</button>

                        </div>
                    </div>

                    
                 </form>



                </div>
              </div>


        </div>
    </div>
</div>