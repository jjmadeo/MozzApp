<div class="container">
    <div class="row mt-4">
        <div class="col">
            <h3>Administracion</h3>

        </div>
    </div>
    <div class="row mt-4">
        <div class="col">
            <div class="card text-center   shadow-lg  rounded">
                <div class="card-header">
                  
                </div>
                <div class="card-body table-responsive-sm">


                    <table class="table">
                        <thead>
                          <tr>
                            <th scope="col">Mesa</th>
                            <th scope="col">Reasignar</th>
                            <th  scope="col">Estado</th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr [disabled]='true'  *ngFor="let item of mesas">
                            <th scope="row">{{item.id_mesa}}</th>
                            <td >
                                <select class="custom-select" id="inputGroupSelect01"  (change)="actualizarRelaMesas($event.target.value,item.id_mesa)">
                                    <option selected>Seleccione</option>
                                    <option *ngFor="let item2 of personas" [selected]='item.id_empl == item2.id ' [value]="item2.id">{{item2.nombre}} {{item2.apellido}}</option>
                                </select>
                            </td>
                            <td>

                              <div class="btn-group btn-group-sm" role="group" aria-label="Basic example">
                                <button type="button" class="btn btn-secondary " (click)="verQrMesa(item.id_mesa)"  data-toggle="modal" data-target="#verQr" >Ver QR</button>
                                <button type="button" class="btn btn-secondary  " (click)="actualizarQr(item.id_mesa)"  >Actualizar QR</button>
                                </div>
                            
                            </td>
                            <td >
                                <div class="custom-control custom-switch">
                                    <input type="checkbox" class="custom-control-input"  [disabled]='item.ocupada == 1'  (change)="actualizarMesaEstado(item)"  [checked]="item.habilitada == 1"  id="checkEstado{{item.id_mesa}}">
                                    <label class="custom-control-label" for="checkEstado{{item.id_mesa}}">Habilitada</label>
                                </div>
                            </td>
                            
                          </tr>                          
                        </tbody>
                      </table>
                  
                </div>
                <div class="card-footer text-muted">
                  
                </div>
              </div>
        </div>
    </div>
</div>




<div class="modal" id="verQr" tabindex="-1" role="dialog">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Qr</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">          
        <img [src]="urlQr" >
        <a href="{{urlQr}}" download="codigoQR.jpg">Descargar QR</a>
        </div>
      <div class="modal-footer">        
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Salir</button>
      </div>
    </div>
  </div>
</div>